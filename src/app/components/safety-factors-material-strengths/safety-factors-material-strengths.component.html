<ngb-tabset>
  <ngb-tab *ngFor="let groupe of groupe_list; index as i">
    <ng-template ngbTabTitle>
      <h5>{{getGroupeName(i)}}</h5>
    </ng-template>
    <ng-template ngbTabContent>
      <div class="tabContent">
        <ngb-tabset>
          <ngb-tab>
            <ng-template ngbTabTitle>
              鉄筋・コンクリート
            </ng-template>
            <ng-template ngbTabContent>

              <div class="safety-factors">
                <h5>安全係数</h5>
                <div class="table-container">
                  <app-sheet #grid1 [options]="options1[i]"></app-sheet>
                </div>
                <div class="range-fieldset">
                  <fieldset>
                    <legend>鉄筋配置</legend>
                    <ol>
                      <li>引張鉄筋</li>
                      <li>引張＋圧縮</li>
                      <li>全周鉄筋</li>
                    </ol>
                  </fieldset>
                </div>
              </div>

              <div class="material-strength">
                <h5>鉄筋材料強度</h5>
                <div class="table-container">
                  <app-sheet #grid2 [options]="options2[i]"></app-sheet>
                  <div class="concrete-strength">
                    <h5>コンクリート材料強度</h5>
                    <app-sheet #grid3 [options]="options3[i]"></app-sheet>
                  </div>
                </div>
              </div>

            </ng-template>
          </ngb-tab>

          <ngb-tab>
            <ng-template ngbTabTitle>
              鉄骨
            </ng-template>
            <ng-template ngbTabContent>

              <div class="safety-factors">
                <h5>安全係数</h5>
                <div class="table-container">
                  <app-sheet #grid4 [options]="options4[i]"></app-sheet>
                </div>
              </div>

              <div class="material-strength">
                <h5>鉄骨材料強度</h5>
                <div class="table-container">
                  <app-sheet #grid5 [options]="options5[i]"></app-sheet>
                </div>
              </div>

            </ng-template>
          </ngb-tab>

          <ngb-tab>
            <ng-template ngbTabTitle>
              杭・施工条件
            </ng-template>
            <ng-template ngbTabContent>
              <div class="pile-factors">
                <h5>杭の施工条件</h5>
                <table>
                  <thead>
                    <tr>
                      <th rowspan="2" colspan="2">施工方法</th>
                      <th colspan="3">施工修正係数ρc</th>
                      <th rowspan="2" width="110px">せん断補強鋼材を用いない棒部材の設計せん断耐力Vcdの低減係数</th>
                    </tr>
                    <tr>
                      <th width="80px">圧縮強度</th>
                      <th width="80px">付着強度</th>
                      <th width="80px">ヤング係数</th>
                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngFor="let item of pile_factor_list; index as j">
                      <tr>
                        <td width="20px">
                          <input type="radio" 
                            name="pile_factor" 
                            id="pile_factor{{j}}"
                            [(ngModel)]="pile_factor_selected[i]" 
                            [value]="item.id"
                            [checked]="pile_factor_selected[i] == item.id" 
                            (change)="setPileFactor(i, j)" />
                        </td>
                        <td style="text-align: left" width="200px">{{item.title}}</td>
                        <td>{{item.rfck}}</td>
                        <td>{{item.rfbok}}</td>
                        <td>{{item.rEc}}</td>
                        <td>{{item.rVcd}}</td>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
              </div>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </div>
    </ng-template>
  </ngb-tab>
</ngb-tabset>