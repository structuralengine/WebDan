<div
  *ngIf="isLoading"
  class="spinner-border"
  style="width: 1rem; height: 1rem;"
  role="status"
>
  <span class="sr-only">Loading...</span>
</div>

<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="isFulfilled">
    <section class="sheet" id="ap_3">
        <svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" >
        <!--タイトル-->
        <g font-size="10pt" text-anchor="start">
            <text x="0" y="19">3.4 安全性(疲労破壊)に関する照査</text>
            <text x="265" y="19">【ＲＣ標準 7.3.2】</text>
            <text x="19" y="49">(1) 曲げモーメントに対する照査</text>
  
            <text x="26" y="87">➀ 部材の照査</text>
            <text x="38" y="125">
              曲げモーメントを受ける部材の疲労に関する照査は、設計変動応力度σsrdを
            </text>
            <text x="38" y="144">
              設計応答値、設計疲労強度frdを豊歳係数で除した値を設計限界値とし、次式
            </text>
            <text x="38" y="163">により行う。</text>
            <text x="76" y="200">
              γ
              <tspan baseline-shift="0%" font-size="8pt">i</tspan>
              ・
            </text>
            <text x="113" y="200">IRd / ILd ≦　1.0</text>
  
            <text x="57" y="238">
              ここに、　　　γ
              <tspan baseline-shift="0%" font-size="8pt">i</tspan>
            </text>
            <text x="151" y="238">： 構造物係数　(＝ 1.0)</text>
            <text x="113" y="257">IRd</text>
            <text x="151" y="257">： 設計応答値　(＝ σsrd)</text>
            <text x="113" y="276">ILd</text>
            <text x="151" y="276">： 設計限界値　(＝ frd/γb)</text>
            <text x="113" y="295">γb</text>
            <text x="151" y="295">： 部材係数　(＝ 1.0)</text>
  
            <text x="26" y="333">➁ 列車本数</text>
            <text x="76" y="371">A列車荷重　：　旅客列車</text>
            <text x="265" y="371">→</text>
            <text x="302" y="371">80本/日</text>
            <text x="76" y="389">B列車荷重　：　貨物列車</text>
            <text x="265" y="389">→</text>
            <text x="302" y="389">75本/日</text>
  
            <text x="26" y="427">➂ 設計変動応力度σsrdと最小応力度σminの算定</text>
            <text x="38" y="465">
              標準列車荷重による鉄筋の設計変動応力度σsrdおよび最小応力度σminを
            </text>
            <text x="38" y="503">
              算定する。鉄筋の最小応力度σminは、鉄筋に生じる最小引張応力度または
            </text>
            <text x="38" y="522">
              永久作用による設計応力度で、圧縮が生じる場合には0とする。
            </text>
  
            <text x="26" y="560">➃ 200万回 引張疲労強度fsr200の算定</text>
            <text x="38" y="597">照査断面に配置した鉄筋の200万回強度</text>
            <text x="265" y="597">
              (N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              )を次式より求める。
            </text>
  
            <text x="227" y="624">
  10
              <tspan baseline-shift="18%" font-size="8pt">ar</tspan>
            </text>
            <text x="378" y="624">σmin</text>
            <text x="76" y="635">fsr200 ＝</text>
            <text x="132" y="635">γ1　・</text>
            <text x="302" y="635">・　( 1 -</text>
            <text x="416" y="635">) /　γs</text>
            <text x="200" y="643">
              ( 2 ｘ　10
              <tspan baseline-shift="18%" font-size="8pt">6</tspan>
              )
            </text>
            <text x="284" y="643">
              <tspan baseline-shift="18%" font-size="8pt">k</tspan>
            </text>
            <text x="382" y="643">fsuk</text>
  
            <text x="57" y="681">ここに、　　　ar</text>
            <text x="151" y="681">= 3.09　- 0.003 φ</text>
            <text x="113" y="700">k</text>
            <text x="151" y="700">= 0.12</text>
            <text x="95" y="718">σmin</text>
            <text x="151" y="718">： 鉄筋の引張最小応力度</text>
            <text x="302" y="718">
              (N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              )
            </text>
            <text x="348" y="718">で圧縮を受ける場合は</text>
            <text x="170" y="737">0とする。</text>
            <text x="102" y="756">fsuk</text>
            <text x="151" y="756">： 鉄筋の引張強度の特性値</text>
            <text x="314" y="756">
              (N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              )
            </text>
            <text x="106" y="775">γ1</text>
            <text x="151" y="775">
              ： 鉄筋の継手、曲げ加工による低減係数(圧接：0.7、
            </text>
            <text x="170" y="794">曲げ加工:0.65)</text>
            <text x="106" y="813">γs</text>
            <text x="151" y="813">： 鉄筋の材料係数(=　1.05)</text>
            <text x="113" y="832">φ</text>
            <text x="151" y="832">： 照査の対象とする鉄筋の直径(mm)</text>
  
            <text x="26" y="870">➄ Ｓ－Ｎ線図の係数選択</text>
            <text x="38" y="907">
              σsrdとfsr200の大小関係により、Ｓ－Ｎ線図の係数を下表に従い選択する。
            </text>
  
            <text x="265" y="934">異　形　鉄　筋</text>
            <text x="30" y="934">Ｓ－Ｎ線</text>
            <text x="26" y="949">パラメータ</text>
            <text x="113" y="953">γi・σsrd/(fsr200/γb)≦1.0</text>
            <text x="340" y="953">γi・σsrd/(fsr200/γb)＞1.0</text>
            <text x="49" y="968">
              a
              <tspan baseline-shift="18%" font-size="8pt">r</tspan>
            </text>
            <text x="49" y="991">k</text>
            <text x="151" y="968">2.71 - 0.003 φ</text>
            <text x="397" y="968">3.09 - 0.003 φ</text>
            <text x="189" y="991">0.06</text>
            <text x="435" y="991">0.12</text>
  
            <!--横線-->
            <g fill="none" stroke="black">
              <line stroke-width="0.30" x1="189" y1="628" x2="295" y2="628" />
              <line stroke-width="0.30" x1="374" y1="628" x2="412" y2="628" />
  
              <line stroke-width="0.50" x1="19" y1="919" x2="567" y2="919" />
              <line stroke-width="0.50" x1="95" y1="938" x2="567" y2="938" />
              <line stroke-width="0.50" x1="19" y1="957" x2="567" y2="957" />
              <line stroke-width="0.50" x1="19" y1="976" x2="567" y2="976" />
              <line stroke-width="0.50" x1="19" y1="994" x2="567" y2="994" />
            </g>
            <!--縦線-->
            <g fill="none" stroke="black">
              <line stroke-width="0.50" x1="19" y1="919" x2="19" y2="994" />
              <line stroke-width="0.50" x1="95" y1="919" x2="95" y2="994" />
              <line stroke-width="0.50" x1="321" y1="938" x2="321" y2="994" />
              <line stroke-width="0.50" x1="567" y1="919" x2="567" y2="994" />
            </g>
        </g>
      </svg>
    </section>

    <section class="sheet">
        <svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
         <!--タイトル-->
         <g font-size="10pt" text-anchor="start">
            <text x="26" y="19">➅ 総等価繰返し回数の算定</text>
            <text x="38" y="38">
              標準列車荷重換算の総等価繰返し回数ΣＮを次式により算定する。
            </text>
            <text x="250" y="68">SA</text>
            <text x="57" y="76">ΣＮ　＝ 365 ・ T ・ jA ・ NA・（</text>
            <text x="268" y="76">
              )
              <tspan baseline-shift="18%" font-size="8pt">1/k</tspan>
            </text>
            <text x="250" y="83">SC</text>
            <text x="454" y="68">SB</text>
            <text x="302" y="76">+ 365 ・ T ・ jB ・ NB・（</text>
            <text x="476" y="76">
              )
              <tspan baseline-shift="18%" font-size="8pt">1/k</tspan>
            </text>
            <text x="454" y="83">SC</text>
  
            <text x="57" y="113">ここに、</text>
            <text x="113" y="113">T</text>
            <text x="151" y="113">： 設計耐用期間　(＝ 100)</text>
            <text x="106" y="132">SA/SC</text>
            <text x="151" y="132">
              ： Ａ列車荷重と標準列車荷重の最大変動断面力比
            </text>
            <text x="106" y="151">SB/SC</text>
            <text x="151" y="151">
              ： Ｂ列車荷重と標準列車荷重の最大変動断面力比
            </text>
            <text x="106" y="170">SA,SB</text>
            <text x="151" y="170">
              ： 実列車荷重(Ａ列車荷重,Ｂ列車荷重)による最大変動断面力
            </text>
            <text x="106" y="189">SC</text>
            <text x="151" y="189">： 標準列車荷重による最大変動断面力</text>
            <text x="106" y="208">NA,NB</text>
            <text x="151" y="208">
              ： SA,SBに対する列車１編成あたり等価繰返し回数(回)
            </text>
            <text x="106" y="227">jA,jB</text>
            <text x="151" y="227">： 実列車の１線、１日あたりの本数(本/回)</text>
            <text x="113" y="246">k</text>
            <text x="151" y="246">： Ｓ－Ｎ線図の勾配</text>
  
            <text x="26" y="284">⑦ 設計引帳疲労強度frdの算定</text>
            <text x="38" y="321">
              総等価繰返し回数ΣＮを用いて、字式により設計引帳疲労強度frdを求める。
            </text>
            <text x="189" y="348">
  10
              <tspan baseline-shift="18%" font-size="8pt">ar</tspan>
            </text>
            <text x="57" y="359">frd　＝ γ1 ・ γ2 ・</text>
            <text x="193" y="371">
              N
              <tspan baseline-shift="18%" font-size="8pt">k</tspan>
            </text>
            <text x="208" y="359">・ ( 1 -</text>
            <text x="265" y="348">σmin</text>
            <text x="265" y="371">fsuk</text>
            <text x="302" y="359">) / γs</text>
  
            <text x="57" y="397">ここに、</text>
            <text x="113" y="397">frd</text>
            <text x="151" y="397">
              ： 鉄筋の設計引帳疲労強度　(N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              )
            </text>
            <text x="113" y="416">Ｎ</text>
            <text x="151" y="416">： 標準列車荷重換算の総等価繰返し回数ΣＮ</text>
            <text x="106" y="435">
              a
              <tspan baseline-shift="18%" font-size="8pt">r</tspan>
              ,
            </text>
            <text x="121" y="435">k</text>
            <text x="151" y="435">： Ｓ－Ｎ線図の係数</text>
            <text x="106" y="454">σmin</text>
            <text x="151" y="454">
              ： 鉄筋の引帳最小応力度(N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              )で、圧縮を受ける場合は
            </text>
            <text x="170" y="473">0とする。</text>
            <text x="106" y="492">fsuk</text>
            <text x="151" y="492">
              ： 鉄筋の引帳強度の特値(N/mm
              <tspan baseline-shift="18%" font-size="8pt">2</tspan>
              ）
            </text>
            <text x="106" y="510">γ1</text>
            <text x="151" y="510">
              ： 鉄筋継手、曲げ加工による低減係数(圧接：0.7,
            </text>
            <text x="170" y="529">曲げ加工:0.65)</text>
            <text x="106" y="548">γ2</text>
            <text x="151" y="548">
              ： 複線を支持する部材における荷重分布比aによる補正係数
            </text>
  
            <text x="302" y="575">1</text>
            <text x="189" y="586">γ2 ＝　（</text>
            <text x="265" y="597">
              a
              <tspan baseline-shift="18%" font-size="8pt">1/k</tspan>
              +
            </text>
            <text x="321" y="597">
              (1-a)
              <tspan baseline-shift="18%" font-size="8pt">1/k</tspan>
            </text>
            <text x="378" y="586">
              )
              <tspan baseline-shift="18%" font-size="8pt">k</tspan>
            </text>
  
            <text x="106" y="624">a</text>
            <text x="151" y="624">： 当該部材の</text>
            <text x="170" y="643">
              (１線載荷による最大断面力)/(複線載荷による最大断面力)
            </text>
            <text x="106" y="662">γs</text>
            <text x="151" y="662">： 鉄筋の材料係数(＝　1,05)</text>
  
            <!--横線-->
            <g fill="none" stroke="black">
              <line stroke-width="0.30" x1="185" y1="355" x2="208" y2="355" />
              <line stroke-width="0.30" x1="257" y1="355" x2="295" y2="355" />
  
              <line stroke-width="0.30" x1="257" y1="582" x2="371" y2="582" />
            </g>
        </g>
      </svg>
    </section>

    <ng-container *ngFor="let pages of safetyFatigueMomentPages; index as i">
      <section class="sheet">
        <<svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
          <!--タイトル-->
          <text x="0" y="42" font-size="10pt" text-anchor="start">
              {{ pages.caption }} (その{{ i + 1 }})
            </text>
            <!--横線-->
            <g fill="none" stroke="black">
              <line stroke-width="0.50" x1="0" y1="45" x2="567" y2="45" />
              <line stroke-width="0.25" x1="0" y1="64" x2="567" y2="64" />
              <line stroke-width="0.25" x1="0" y1="83" x2="567" y2="83" />
              <line stroke-width="0.50" x1="0" y1="102" x2="567" y2="102" />
              <line stroke-width="0.25" x1="0" y1="121" x2="567" y2="121" />
              <line stroke-width="0.25" x1="0" y1="140" x2="567" y2="140" />
              <line stroke-width="0.25" x1="0" y1="159" x2="567" y2="159" />
              <line stroke-width="0.50" x1="0" y1="178" x2="567" y2="178" />
              <line stroke-width="0.25" x1="0" y1="216" x2="567" y2="216" />
              <line stroke-width="0.25" x1="0" y1="234" x2="567" y2="234" />
              <line stroke-width="0.25" x1="0" y1="272" x2="567" y2="272" />
              <line stroke-width="0.25" x1="0" y1="291" x2="567" y2="291" />
              <line stroke-width="0.25" x1="0" y1="329" x2="567" y2="329" />
              <line stroke-width="0.50" x1="0" y1="348" x2="567" y2="348" />
              <line stroke-width="0.25" x1="0" y1="367" x2="567" y2="367" />
              <line stroke-width="0.25" x1="0" y1="386" x2="567" y2="386" />
              <line stroke-width="0.25" x1="0" y1="405" x2="567" y2="405" />
              <line stroke-width="0.25" x1="0" y1="442" x2="567" y2="442" />
              <line stroke-width="0.25" x1="0" y1="461" x2="567" y2="461" />
              <line stroke-width="0.50" x1="0" y1="480" x2="567" y2="480" />
              <line stroke-width="0.25" x1="0" y1="499" x2="567" y2="499" />
              <line stroke-width="0.50" x1="0" y1="518" x2="567" y2="518" />
              <line stroke-width="0.50" x1="0" y1="537" x2="567" y2="537" />
              <line stroke-width="0.25" x1="0" y1="556" x2="567" y2="556" />
              <line stroke-width="0.50" x1="0" y1="575" x2="567" y2="575" />
              <line stroke-width="0.25" x1="0" y1="594" x2="567" y2="594" />
              <line stroke-width="0.25" x1="0" y1="613" x2="567" y2="613" />
              <line stroke-width="0.25" x1="0" y1="631" x2="567" y2="631" />
              <line stroke-width="0.25" x1="0" y1="650" x2="567" y2="650" />
              <line stroke-width="0.25" x1="0" y1="669" x2="567" y2="669" />
              <line stroke-width="0.25" x1="0" y1="688" x2="567" y2="688" />
              <line stroke-width="0.25" x1="0" y1="707" x2="567" y2="707" />
              <line stroke-width="0.25" x1="0" y1="726" x2="567" y2="726" />
              <line stroke-width="0.25" x1="0" y1="745" x2="567" y2="745" />
              <line stroke-width="0.25" x1="0" y1="764" x2="567" y2="764" />
              <line stroke-width="0.25" x1="0" y1="783" x2="567" y2="783" />
              <line stroke-width="0.25" x1="0" y1="802" x2="567" y2="802" />
              <line stroke-width="0.25" x1="0" y1="821" x2="567" y2="821" />
              <line stroke-width="0.25" x1="0" y1="839" x2="567" y2="839" />
              <line stroke-width="0.50" x1="0" y1="858" x2="567" y2="858" />
              <line stroke-width="0.25" x1="0" y1="877" x2="567" y2="877" />
              <line stroke-width="0.50" x1="0" y1="896" x2="567" y2="896" />
            </g>
            <!--縦線-->
            <g fill="none" stroke="black">
              <line stroke-width="0.50" x1="113" y1="45" x2="113" y2="896" />
              <line stroke-width="0.25" x1="204" y1="45" x2="204" y2="896" />
              <line stroke-width="0.25" x1="295" y1="45" x2="295" y2="896" />
              <line stroke-width="0.25" x1="386" y1="45" x2="386" y2="896" />
              <line stroke-width="0.25" x1="476" y1="45" x2="476" y2="896" />
            </g>
            <!--Row Header-->
            <g font-size="10pt" text-anchor="middle">
              <text x="57" y="60">部材名称</text>
              <text x="57" y="79">位　　置</text>
              <text x="57" y="98">断面番号</text>
  
              <text x="30" y="117">B</text>
              <text x="76" y="117">(mm)</text>
              <text x="30" y="136">H</text>
              <text x="76" y="136">(mm)</text>
              <text x="30" y="155">Bf</text>
              <text x="76" y="155">(mm)</text>
              <text x="30" y="174">Hf</text>
              <text x="76" y="174">(mm)</text>
  
              <text x="30" y="193">Ast</text>
              <text x="76" y="193">
                (mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="212">引張鉄筋</text>
              <text x="30" y="231">dast</text>
              <text x="76" y="231">(mm)</text>
  
              <text x="30" y="250">Asc</text>
              <text x="76" y="250">
                (mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="268">圧縮鉄筋</text>
              <text x="30" y="287">dasc</text>
              <text x="76" y="287">(mm)</text>
  
              <text x="30" y="306">Ase</text>
              <text x="76" y="306">
                (mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="325">側方鉄筋</text>
              <text x="30" y="344">dase</text>
              <text x="76" y="344">(mm)</text>
  
              <text x="30" y="363">f'ck</text>
              <text x="76" y="363">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="382">γc</text>
              <text x="30" y="401">f'cd</text>
              <text x="76" y="401">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
  
              <text x="30" y="420">fsyk</text>
              <text x="76" y="420">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="439">γs</text>
              <text x="30" y="458">fsyd</text>
              <text x="76" y="458">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="30" y="476">fsuk</text>
              <text x="76" y="476">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
  
              <text x="30" y="495">Mmin</text>
              <text x="76" y="495">(kN･m)</text>
              <text x="30" y="514">N'd</text>
              <text x="76" y="514">(kN)</text>
  
              <text x="30" y="533">σmin</text>
              <text x="76" y="533">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
  
              <text x="30" y="552">Mrd</text>
              <text x="76" y="552">(kN･m)</text>
              <text x="30" y="571">N'd</text>
              <text x="76" y="571">(kN)</text>
  
              <text x="30" y="590">σ㏛d</text>
              <text x="76" y="590">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="30" y="609">fsr200</text>
              <text x="76" y="609">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="60" y="628">γi・σsrd/(fsr200/γb)</text>
              <text x="57" y="647">Κ</text>
              <text x="57" y="665">鉄筋補正　αr</text>
              <text x="30" y="684">ΣＮ</text>
              <text x="76" y="684">(回)</text>
              <text x="57" y="703">NA</text>
              <text x="57" y="722">NB</text>
              <text x="57" y="741">SA/SC</text>
              <text x="57" y="760">SB/SC</text>
              <text x="57" y="779">鉄筋加工補正 r1</text>
              <text x="57" y="798">鉄筋加工補正 r2</text>
              <text x="57" y="817">γs</text>
              <text x="30" y="836">frd</text>
              <text x="76" y="836">
                (N/mm
                <tspan baseline-shift="18%" font-size="8pt">2</tspan>
                )
              </text>
              <text x="57" y="855">γi</text>
  
              <text x="57" y="873">γi・σsrd/(fsrd/γb)</text>
              <text x="57" y="892">照査結果</text>
            </g>
          <!--calclate-->
          <g font-size="10pt">
            <ng-container *ngFor="let column of pages.columns; index as c">
              <ng-container *ngFor="let item of column; index as r">
                <ng-container *ngIf="item.value != ''">
                  <text
                    *ngIf="item.alien == 'right'"
                    text-anchor="end"
                    [attr.x]="199+c*91"
                    [attr.y]="16 + r * 19"
                  >
                    {{ item.value }}
                  </text>
                  <text
                    *ngIf="item.alien == 'center'"
                    text-anchor="middle"
                    [attr.x]="159+c*91"
                    [attr.y]="16 + r * 19"
                  >
                    {{ item.value }}
                  </text>
                </ng-container>
              </ng-container>
            </ng-container>
          </g>
        </svg>
      </section>
    </ng-container>
  </ng-container>
  <section *ngIf="err.length > 0" class="sheet">
    <p>{{ err }}</p>
  </section>
</ng-container>
