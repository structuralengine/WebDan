<div *ngIf="isLoading" class="spinner-border" style="width: 1rem; height: 1rem;" role="status">
  <span class="sr-only">Loading...</span>
</div>

<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="isFulfilled">

    <section class="sheet" id="ap_6">
      <svg width="150" height="260" viewBox="0 0 150 260" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <!--タイトル-->
        <g font-size="10pt" text-anchor="start">
        <text x="0" y="11">(b)せん断ひび割れの検討【コンクリート標準　10.2.2.5】</text>
        <text x="0" y="16">1)せん断ひび割れの検討を省略できる部材</text>
        <text x="5" y="21">永久作用と変動作用が組み合わされた時の設計せん断</text>
        <text x="87" y="21">
          V<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
        </text>
        <text x="91" y="21">が、せん断補強鋼材を用いない棒</text>
        <text x="0" y="26">部材の設計せん断耐力</text>
        <text x="34" y="26">
          V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
        </text>
        <text x="38" y="26">の70％よりも小さい場合には、せん断ひび割れの検討は省略できる。</text>
        <text x="5" y="31">なお、この</text>
        <text x="23" y="31">
          V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
        </text>
        <text x="28" y="31">を求める場合、コンクリートの材料の材料係数</text>
        <text x="99" y="31">
          γ<tspan baseline-shift="0%" font-size="1.6pt">c</tspan>
        </text>
        <text x="105" y="31">および</text>
        <text x="115" y="31">
          γ<tspan baseline-shift="0%" font-size="1.6pt">b</tspan>
        </text>
        <text x="120" y="31">は1.0とする。</text>

        <text x="0" y="41">2)せん断ひび割れの検討</text> 
        <text x="5" y="46">2)せん断ひび割れの検討においては、永久作用によるせん断補強筋の応力度</text>
        <text x="120" y="46">
          σ<tspan baseline-shift="0%" font-size="1.6pt">wpd</tspan>
        </text>
        <text x="127" y="46">を表3.4.2</text>
        <text x="0" y="51">に示す限界値</text> 
        <text x="20" y="51">
          σ<tspan baseline-shift="0%" font-size="1.6pt">s12</tspan>
        </text>
        <text x="28" y="51">以内とすることにより、せん断ひび割れ幅に関する検討を省略してよい。</text>
        <text x="5" y="56">
          σ<tspan baseline-shift="0%" font-size="1.6pt">wpd</tspan>
        </text>
        <text x="13" y="56">≦</text>
        <text x="18" y="56">
          σ<tspan baseline-shift="0%" font-size="1.6pt">s12</tspan>
        </text>
        <text x="5" y="61">ここに、</text>
        <text x="20" y="61">
          σ<tspan baseline-shift="0%" font-size="1.6pt">wpd</tspan>
        </text> 
        <text x="27" y="61">: 永久作用によるせん断補強筋の設計応力度</text>
        <text x="95" y="61">
          (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
        </text>

        <text x="43" y="68">
          (V<tspan baseline-shift="0%" font-size="1.6pt">pd</tspan>
        </text> 
        <text x="50" y="68">
          + V<tspan baseline-shift="0%" font-size="1.6pt">rd</tspan>
        </text> 
        <text x="58" y="68">
          - k<tspan baseline-shift="0%" font-size="1.6pt">r</tspan>
        </text>  
        <text x="63" y="68">
          ・V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>)s
        </text> 

        <text x="93" y="68">
          V<tspan baseline-shift="0%" font-size="1.6pt">pd</tspan>
        </text> 
        <text x="100" y="68">
          + V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
        </text> 

        <text x="30" y="71">
          σ<tspan baseline-shift="0%" font-size="1.6pt">wpd</tspan>  ＝
        </text> 
        <text x="79" y="71">・</text>

        <text x="45" y="74">
          A<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>・z・(sinθ+cosθ)
        </text>
        <text x="79" y="71">・</text>
        <text x="88" y="74">
          V<tspan baseline-shift="0%" font-size="1.6pt">pd</tspan>
        </text> 
        <text x="95" y="74">
          + V<tspan baseline-shift="0%" font-size="1.6pt">rd</tspan>
        </text> 
        <text x="103" y="74">
          + V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
        </text> 

        <text x="20" y="79">
          σ<tspan baseline-shift="0%" font-size="1.6pt">s12</tspan>
        </text>
        <text x="27" y="79">: せん断またはねじりひび割れ幅の検討を省略できる部材における永久作</text>
        <text x="30" y="84">
          用による鉄筋応力度の制限幅(N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
        </text>
        <text x="22" y="89">
          V<tspan baseline-shift="0%" font-size="1.6pt">pd</tspan>
        </text>
        <text x="27" y="89">: 永久作用による設計せん断力(N)</text>
        <text x="22" y="94">
          V<tspan baseline-shift="0%" font-size="1.6pt">rd</tspan>
        </text>
        <text x="27" y="94">: 変動作用による設計せん断力(N)</text>
        <text x="22" y="99">
          V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
        </text>
        <text x="27" y="99">: せん断補強鉄筋を用いない棒部材の設計せん断力(N)</text>
        <text x="30" y="104">
          (この場合の部材係数γ<tspan baseline-shift="0%" font-size="1.6pt">b</tspan>は1.0とする。)
        </text>
        <text x="24" y="109">
            k<tspan baseline-shift="0%" font-size="1.6pt">r</tspan>
        </text>
        <text x="27" y="109">: 変動作用の頻度の影響を考慮するための係数で0.5とする。</text>
        <text x="24" y="114">s</text>
        <text x="27" y="114">: せん断補強鉄筋の配置間隔</text><text x="50" y="114">(mm)</text>
        <text x="24" y="119">
            A<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>
        </text>
        <text x="27" y="119">
              : 区間sにおけるせん断補強鉄筋の総断面積(mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
        </text>
        <text x="23" y="124">θ</text>
        <text x="27" y="124">: せん断補強鉄筋が部材軸となる角度(＝90°)</text>
        <text x="24" y="129">z</text>
        <text x="27" y="129">: 圧力応力の合力位置から引張鋼材の図心までの距離でｄ/1.15とする。</text>
        <text x="24" y="134">d</text>
        <text x="27" y="134">: 有効高さ (mm)</text>
        
        <text x="8" y="144">表3.3.2 せん断またはねじれひび割れの検討を省略出来る</text>
        <text x="5" y="149">部材における永久作用による鉄筋応力度の制限値</text>
        <text x="79" y="149">
            σ<tspan baseline-shift="0%" font-size="1.6pt">12</tspan>
        </text>
        <text x="85" y="149">
            (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
        </text>

        <text x="7" y="157">鉄筋の種類</text>
        <text x="50" y="155">鋼材の腐食に対する環境条件</text>
        <text x="35" y="160">一般の環境</text> 
        <text x="65" y="160">腐食性環境</text>
        <text x="95" y="160">特に厳しい腐食性環境</text>
        <text x="7" y="165">異形鉄筋</text>
        <text x="7" y="170">普通丸鋼</text> 
        <text x="43" y="165">120</text>
        <text x="43" y="170">100</text>
        <text x="73" y="165">100</text>
        <text x="74" y="170">80</text>
        <text x="112" y="165">80</text>
        <text x="112" y="170">60</text>

        <text x="0" y="180">(2)ひび割れに関する検討結果</text>
        <text x="8" y="185">耐久性のひび割れに関する検討結果を次頁以降に示す。</text>
        


         <!--横線-->
         <g fill="none" stroke="black">
          <line stroke-width="0.30" x1="43" y1="70" x2="76" y2="70" />
          <line stroke-width="0.30" x1="85" y1="70" x2="118" y2="70" />

          <line stroke-width="0.35" x1="0" y1="151" x2="135" y2="151" />
          <line stroke-width="0.35" x1="30" y1="156" x2="135" y2="156" />
          <line stroke-width="0.35" x1="0" y1="161" x2="135" y2="161" />
          <line stroke-width="0.35" x1="0" y1="166" x2="135" y2="166" />
          <line stroke-width="0.35" x1="0" y1="171" x2="135" y2="171" />
        </g> 

        <!--縦線-->
        <g fill="none" stroke="black">
            <line stroke-width="0.35" x1="0" y1="151" x2="0" y2="171" />
            <line stroke-width="0.35" x1="30" y1="151" x2="30" y2="171" />
            <line stroke-width="0.35" x1="60" y1="156" x2="60" y2="171" />
            <line stroke-width="0.35" x1="90" y1="156" x2="90" y2="171" />
            <line stroke-width="0.35" x1="135" y1="151" x2="135" y2="171" />
          </g>


        

      </g> 
      </svg>
    </section>

    <ng-container *ngFor="let pages of serviceabilityShearForcePages; index as i">
      <section class="sheet">
        <svg width="150" height="260" viewBox="0 0 150 260" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
          <!--タイトル-->
          <text x="0" y="11" font-size="10pt" text-anchor="start">{{pages.caption}} (その{{i+1}})</text>
          <text x="150" y="11" font-size="10pt" text-anchor="end">[{{pages.g_name}}]</text>

          <!--横線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.35" x1="0" y1="12" x2="150" y2="12" />
            <line stroke-width="0.20" x1="0" y1="17" x2="150" y2="17" />
            <line stroke-width="0.20" x1="0" y1="22" x2="150" y2="22" />
            <line stroke-width="0.35" x1="0" y1="27" x2="150" y2="27" />
            <line stroke-width="0.20" x1="0" y1="32" x2="150" y2="32" />
            <line stroke-width="0.20" x1="0" y1="37" x2="150" y2="37" />
            <line stroke-width="0.35" x1="0" y1="42" x2="150" y2="42" />
            <line stroke-width="0.20" x1="0" y1="52" x2="150" y2="52" />
            <line stroke-width="0.20" x1="0" y1="57" x2="150" y2="57" />
            <line stroke-width="0.20" x1="0" y1="67" x2="150" y2="67" />
            <line stroke-width="0.20" x1="0" y1="72" x2="150" y2="72" />
            <line stroke-width="0.20" x1="0" y1="77" x2="150" y2="77" />
            <line stroke-width="0.35" x1="0" y1="82" x2="150" y2="82" />
            <line stroke-width="0.20" x1="0" y1="87" x2="150" y2="87" />
            <line stroke-width="0.20" x1="0" y1="92" x2="150" y2="92" />
            <line stroke-width="0.20" x1="0" y1="97" x2="150" y2="97" />
            <line stroke-width="0.20" x1="0" y1="102" x2="150" y2="102" />
            <line stroke-width="0.20" x1="0" y1="107" x2="150" y2="107" />
            <line stroke-width="0.35" x1="0" y1="112" x2="150" y2="112" />
            <line stroke-width="0.20" x1="0" y1="122" x2="150" y2="122" />
            <line stroke-width="0.20" x1="0" y1="127" x2="150" y2="127" />
            <line stroke-width="0.20" x1="0" y1="132" x2="150" y2="132" />
            <line stroke-width="0.35" x1="0" y1="137" x2="150" y2="137" />
            <line stroke-width="0.20" x1="0" y1="142" x2="150" y2="142" />
            <line stroke-width="0.20" x1="0" y1="147" x2="150" y2="147" />
            <line stroke-width="0.20" x1="0" y1="152" x2="150" y2="152" />
            <line stroke-width="0.35" x1="0" y1="157" x2="150" y2="157" />
            <line stroke-width="0.20" x1="0" y1="162" x2="150" y2="162" />
            <line stroke-width="0.20" x1="0" y1="167" x2="150" y2="167" />
            <line stroke-width="0.20" x1="0" y1="172" x2="150" y2="172" />
            <line stroke-width="0.20" x1="0" y1="177" x2="150" y2="177" />
            <line stroke-width="0.20" x1="0" y1="182" x2="150" y2="182" />
            <line stroke-width="0.20" x1="0" y1="187" x2="150" y2="187" />
            <line stroke-width="0.20" x1="0" y1="192" x2="150" y2="192" />
            <line stroke-width="0.20" x1="0" y1="197" x2="150" y2="197" />
            <line stroke-width="0.35" x1="0" y1="202" x2="150" y2="202" />
            <line stroke-width="0.35" x1="0" y1="207" x2="150" y2="207" />
            <line stroke-width="0.20" x1="0" y1="212" x2="150" y2="212" />
            <line stroke-width="0.20" x1="0" y1="217" x2="150" y2="217" />
            <line stroke-width="0.35" x1="0" y1="222" x2="150" y2="222" />
            <line stroke-width="0.20" x1="0" y1="227" x2="150" y2="227" />
            <line stroke-width="0.20" x1="0" y1="232" x2="150" y2="232" />
            <line stroke-width="0.35" x1="0" y1="237" x2="150" y2="237" />
          </g>
          <!--縦線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.35" x1="30" y1="12" x2="30" y2="237" />
            <line stroke-width="0.20" x1="54" y1="12" x2="54" y2="237" />
            <line stroke-width="0.20" x1="78" y1="12" x2="78" y2="237" />
            <line stroke-width="0.20" x1="102" y1="12" x2="102" y2="237" />
            <line stroke-width="0.20" x1="126" y1="12" x2="126" y2="237" />
          </g>
          <!--Row Header-->
          <g font-size="10pt" text-anchor="middle">
            <text x="15" y="16">部材名称</text>
            <text x="15" y="21">位　　置</text>
            <text x="15" y="26">断面番号</text>

            <text x="8" y="31">B</text><text x="20" y="31">(mm)</text>
            <text x="8" y="36">H</text><text x="20" y="36">(mm)</text>
            <text x="15" y="41">tanθc+tanθt</text>

            <text x="8" y="46">Ast</text>
            <text x="20" y="46">
              (mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="51">引張鉄筋</text>
            <text x="8" y="56">dast</text><text x="20" y="56">(mm)</text>

            <text x="8" y="61">Asc</text>
            <text x="20" y="61">
              (mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="66">圧縮鉄筋</text>
            <text x="8" y="71">dasc</text><text x="20" y="71">(mm)</text>

            <text x="15" y="76">側方鉄筋　Ase</text>
            <text x="8" y="81">dase</text><text x="20" y="81">(mm)</text>

            <text x="8" y="86">f'ck</text>
            <text x="20" y="86">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="91">γc</text>
            <text x="8" y="96">f'cd</text>
            <text x="20" y="96">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>

            <text x="8" y="101">fsyk</text>
            <text x="20" y="101">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="106">γs</text>
            <text x="8" y="111">fsyd</text>
            <text x="20" y="111">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>

            <text x="8" y="116">Aw</text>
            <text x="20" y="116">
              (mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="121">スターラップ</text>
            <text x="8" y="126">fwyd</text>
            <text x="20" y="126">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="8" y="131">θs</text><text x="20" y="131">(° )</text>
            <text x="8" y="136">Ss</text><text x="20" y="61">(mm)</text>

            <text x="8" y="141">N'd</text><text x="20" y="141">(kN)</text>
            <text x="8" y="146">Vhd</text><text x="20" y="146">(kN)</text>
            <text x="8" y="151">Vpd</text><text x="20" y="151">(kN)</text>
            <text x="8" y="156">Vrd</text><text x="20" y="156">(kN)</text>

            <text x="8" y="161">fvcd</text>
            <text x="20" y="161">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="166">βd</text>
            <text x="15" y="171">pc</text>
            <text x="15" y="176">βp</text>
            <text x="8" y="181">Mu</text><text x="20" y="181">(kN･m)</text>
            <text x="8" y="186">Mo</text><text x="20" y="186">(kN･m)</text>
            <text x="15" y="191">βn</text>
            <text x="15" y="196">γbc</text>
            <text x="8" y="201">Vpcd Vcd</text><text x="20" y="201">(kN)</text>

            <text x="15" y="206">Vhd:0.7/Vcd</text>

            <text x="15" y="211">環境条件</text>
            <text x="15" y="216">Kr</text>
            <text x="15" y="221">γi</text>

            <text x="10" y="226">σwpd σs12</text>
            <text x="25" y="226">
              (N/mm<tspan baseline-shift="18%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="231">γi・σwpd/σ12</text>
            <text x="15" y="236">照査結果</text>

          </g>

          <!--calclate-->
          <g font-size="10pt">
            <ng-container *ngFor="let column of pages.columns; index as c">
              <ng-container *ngFor="let item of column; index as r">
                <ng-container *ngIf="item.value != ''">
                  <text *ngIf="item.alien == 'right'" text-anchor="end" [attr.x]="48+c*24"
                    [attr.y]="16+r*5">{{item.value}}</text>
                  <text *ngIf="item.alien == 'center'" text-anchor="middle" [attr.x]="42+c*24"
                    [attr.y]="16+r*5">{{item.value}}</text>
                </ng-container>
              </ng-container>
            </ng-container>
          </g>
        </svg>
      </section>
    </ng-container>


  </ng-container>
  <section *ngIf="err.length > 0" class="sheet">
      <p >{{err}}</p>
  </section>
</ng-container>
