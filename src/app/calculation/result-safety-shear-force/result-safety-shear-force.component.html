<div *ngIf="isLoading" class="spinner-border" style="width: 1rem; height: 1rem;" role="status">
  <span class="sr-only">Loading...</span>
</div>

<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="isFulfilled">

    <section class="sheet">
      <svg width="150mm" height="260mm" viewBox="0 0 150 260" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
        <!--タイトル-->
        <g font-size="2.2pt" text-anchor="start">
          <text x="0" y="11">(2)せん断力に対する照査【コンクリート標準　7.2.3】</text>
          <text x="5" y="16">せん断力</text>
          <text x="19" y="16">
            V<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x=23 y="16">を設計応答値、設計せん断耐力</text>
          <text x="71" y="16">
            V<tspan baseline-shift="0%" font-size="1.6pt">yd</tspan>
          </text>
          <text x=77 y="16">および腹部コンクリートの設計斜め圧縮耐力</text>
          <text x="3" y="21">
            V<tspan baseline-shift="0%" font-size="1.6pt">wcd</tspan>
          </text>
          <text x=9 y="21">を設計限界値として以下に示す式により行う。</text>
          <text x="5" y="26">γi・</text>
          <text x="13" y="26">
            V<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="16" y="26">/</text>
          <text x="19" y="26">
            V<tspan baseline-shift="0%" font-size="1.6pt">yd</tspan>
          </text>
          <text x="24" y="26">≦1.0</text>
          <text x="5" y="31">ここに、　γi：　構造物係数(=1.2)</text>
          <text x="23" y="36">
            V<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="27" y="36">：　設計せん断力</text>
          <text x="23" y="41">
            V<tspan baseline-shift="0%" font-size="1.6pt">yd</tspan>
          </text>
          <text x="27" y="41">：　設計せん断耐力</text>
          <text x="34" y="46">
            V<tspan baseline-shift="0%" font-size="1.6pt">yd</tspan>
          </text>
          <text x="40" y="46">=</text>
          <text x="43" y="46">
            V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
          </text>
          <text x="48" y="46">+</text>
          <text x="51" y="46">
            V<tspan baseline-shift="0%" font-size="1.6pt">sd</tspan>
          </text>
          <text x="23" y="51">
            V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
          </text>
          <text x="27" y="51">：　せん断補強鋼材を用いない棒部材のせん断耐力</text>
          <text x="23" y="56">
            V<tspan baseline-shift="0%" font-size="1.6pt">sd</tspan>
          </text>
          <text x="27" y="56">：　せん断補強鋼材により受け持たれる棒部材の設計せん断力</text>

          <text x=3 y="66">(a)せん断補強鋼材を用いない棒部材の設計せん断力</text>
          <text x="83" y="66">
            V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
          </text>
          <text x=87 y="66">の算定</text>
          <text x="9" y="71">
            V<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
          </text>
          <text x=14 y="71">=</text>
          <text x="19" y="71">
            β<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x=24 y="71">・</text>
          <text x="29" y="71">
            β<tspan baseline-shift="0%" font-size="1.6pt">p</tspan>
          </text>
          <text x=34 y="71">・</text>
          <text x="39" y="71">
            β<tspan baseline-shift="0%" font-size="1.6pt">n</tspan>
          </text>
          <text x=44 y="71">・</text>
          <text x="49" y="71">
            f<tspan baseline-shift="0%" font-size="1.6pt">vcd</tspan>
          </text>
          <text x=54 y="71">・</text>
          <text x="59" y="71">
            b<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>
          </text>
          <text x=64 y="71">・</text>
          <text x=69 y="71">d /</text>
          <text x="74" y="71">
            γ<tspan baseline-shift="0%" font-size="1.6pt">b</tspan>
          </text>
          <text x="9" y="76">ここに、</text>
          <text x="29" y="76">
            β<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="35" y="76">:</text>
          <text x="39" y="76">
            (1000/d)<tspan baseline-shift="20%" font-size="1.6pt">1/4</tspan>
          </text>
          <text x="80" y="76">ただし、</text>
          <text x="91" y="76">
            β<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="97" y="76">＞1.5となる場合は1.5とする。</text>

          <text x="29" y="81">
            β<tspan baseline-shift="0%" font-size="1.6pt">p</tspan>
          </text>
          <text x="35" y="81">: (100×</text>
          <text x="49" y="81">
            P<tspan baseline-shift="0%" font-size="1.6pt">c</tspan>
          </text>
          <text x="52" y="81">
            )<tspan baseline-shift="20%" font-size="1.6pt">1/4</tspan>
          </text>
          <text x="80" y="81">ただし、</text>
          <text x="91" y="81">
            β<tspan baseline-shift="0%" font-size="1.6pt">p</tspan>
          </text>
          <text x="97" y="81">＞1.5となる場合は1.5とする。</text>
          <text x="29" y="86">
            β<tspan baseline-shift="0%" font-size="1.6pt">n</tspan>
          </text>
          <text x="35" y="86">: 1+2</text>
          <text x="44" y="86">
            M<tspan baseline-shift="0%" font-size="1.6pt">0</tspan>
          </text>
          <text x="47" y="86">/</text>
          <text x="50" y="86">
            M<tspan baseline-shift="0%" font-size="1.6pt">u</tspan>
          </text>
          <text x="54" y="86">
            (N'<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="62" y="86">≧0）</text>
          <text x="80" y="86">ただし、</text>
          <text x="91" y="86">
            β<tspan baseline-shift="0%" font-size="1.6pt">n</tspan>
          </text>
          <text x="97" y="86">＞2となる場合は2とする。</text>

          <text x="35" y="91">: 1+4</text>
          <text x="44" y="91">
            M<tspan baseline-shift="0%" font-size="1.6pt">0</tspan>
          </text>
          <text x="47" y="91">/</text>
          <text x="50" y="91">
            M<tspan baseline-shift="0%" font-size="1.6pt">u</tspan>
          </text>
          <text x="54" y="91">
            (N'<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="62" y="91">＜0）</text>
          <text x="80" y="91">ただし、</text>
          <text x="91" y="91">
            β<tspan baseline-shift="0%" font-size="1.6pt">n</tspan>
          </text>
          <text x="97" y="91">＜0となる場合は0とする。</text>

          <text x="29" y="96">
            f<tspan baseline-shift="0%" font-size="1.6pt">vcd</tspan>
          </text>
          <text x="35" y="96">: 0.2(</text>
          <text x="45" y="96">
            f'<tspan baseline-shift="0%" font-size="1.6pt">cd</tspan>
          </text>
          <text x="52" y="96">
            )<tspan baseline-shift="20%" font-size="1.6pt">1/3</tspan>
          </text>
          <text x="38" y="101">ただし、</text>
          <text x="50" y="101">
            f<tspan baseline-shift="0%" font-size="1.6pt">vcd</tspan>
          </text>
          <text x="55" y="101">＞0.72N/</text>
          <text x="68" y="101">
            mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>
          </text>
          <text x="73" y="101">となる場合は</text>
          <text x="94" y="101">
            f<tspan baseline-shift="0%" font-size="1.6pt">vcd</tspan>
          </text>
          <text x="99" y="101">=0.72N/</text>
          <text x="111" y="101">
            mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>
          </text>
          <text x="115" y="101">とする。</text>
          <text x="30" y="106">
            b<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>
          </text>
          <text x="35" y="106">: 腹部の幅</text>
          <text x="30" y="111">d</text>　
          <text x="35" y="111">: 有効高さ</text>
          <text x="30" y="116">
            P<tspan baseline-shift="0%" font-size="1.6pt">c</tspan>
          </text>
          <text x="35" y="116">: せん断引張鋼材比</text>
          <text x="30" y="121">
            A<tspan baseline-shift="0%" font-size="1.6pt">s</tspan>
          </text>
          <text x="35" y="121">: 引張鋼材の断面船</text>
          <text x="30" y="126">
            M<tspan baseline-shift="0%" font-size="1.6pt">u</tspan>
          </text>
          <text x="35" y="126">: 曲げ耐力</text>
          <text x="30" y="131">
            M<tspan baseline-shift="0%" font-size="1.6pt">o</tspan>
          </text>
          <text x="35" y="131">: 設計曲げモーメント</text>
          <text x="69" y="131">
            M<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="73" y="131">に対する引張縁において、軸方向により発生す</text>
          <text x="35" y="136">る応力を打ち消すのに必要な曲げモーメント。</text>
          <text x="30" y="141">
            N<tspan baseline-shift="0%" font-size="1.6pt">d</tspan>
          </text>
          <text x="35" y="141">: 設計軸方向圧縮力</text>
          <text x="30" y="146">
            γ<tspan baseline-shift="0%" font-size="1.6pt">ｂ</tspan>
          </text>
          <text x="35" y="146">: 部材係数(=1.3)</text>

          <text x=3 y="156">(b)せん断補強鋼材により受け持たれる棒部材の設計せん断耐力</text>
          <text x="100" y="156">
            V<tspan baseline-shift="0%" font-size="1.6pt">sd</tspan>
          </text>
          <text x=105 y="156">の算定</text>
          <text x=8 y="161">ボックスカルバートの場合せん断補強鋼材にスターラップを用いるため、以下にスターラッ</text>
          <text x=5 y="166">プのせん断力耐力を算定する。</text>

          <text x="9" y="171">
            V<tspan baseline-shift="0%" font-size="1.6pt">sd</tspan>
          </text>
          <text x=14 y="171">=</text>
          <text x="19" y="171">
            A<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>
          </text>
          <text x=24 y="171">・</text>
          <text x="29" y="171">
            f<tspan baseline-shift="0%" font-size="1.6pt">wyd</tspan>
          </text>
          <text x=34 y="171">・d(1.15</text>
          <text x="48" y="171">
            S<tspan baseline-shift="0%" font-size="1.6pt">s</tspan>
          </text>
          <text x=50 y="171">・</text>
          <text x="53" y="171">
            γ<tspan baseline-shift="0%" font-size="1.6pt">b</tspan>)
          </text>

          <text x="9" y="176">ここに、</text>
          <text x="29" y="176">
            A<tspan baseline-shift="0%" font-size="1.6pt">w</tspan>
          </text>
          <text x="35" y="176">: 区間</text>
          <text x="46" y="176">
            S<tspan baseline-shift="0%" font-size="1.6pt">s</tspan>
          </text>
          <text x="50" y="176">におけるスターラップの総断面積</text>
          <text x="29" y="181">d</text>
          <text x="35" y="181">: 有効高さ</text>
          <text x="29" y="186">
            S<tspan baseline-shift="0%" font-size="1.6pt">s</tspan>
          </text>
          <text x="35" y="186">: スターラップの配置間隔</text>
          <text x="29" y="191">
            γ<tspan baseline-shift="0%" font-size="1.6pt">b</tspan>
          </text>
          <text x="35" y="191">: 部材係数(=1.1)</text>

          <text x="0" y="201">(3)照査結果</text>
          <text x="10" y="206">破壊に関する安全性の照査結果を次頁以降に示す。</text>
          　　 　　 　　　　　 　　　　 　　　　　 　　　　 　 　　　　　





        </g>
      </svg>
    </section>


    <ng-container *ngFor="let pages of safetyShearForcePages; index as i">
      <section class="sheet">
        <svg width="150mm" height="260mm" viewBox="0 0 150 260" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
          <!--タイトル-->
          <text x="0" y="11" font-size="2.2pt" text-anchor="start">{{pages.caption}} (その{{i+1}})</text>
          <text x="150" y="11" font-size="2.2pt" text-anchor="end">[{{pages.g_name}}]</text>
          <!--横線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.35" x1="0" y1="12" x2="150" y2="12" />
            <line stroke-width="0.20" x1="0" y1="16" x2="150" y2="16" />
            <line stroke-width="0.20" x1="0" y1="20" x2="150" y2="20" />
            <line stroke-width="0.35" x1="0" y1="24" x2="150" y2="24" />
            <line stroke-width="0.20" x1="0" y1="28" x2="150" y2="28" />
            <line stroke-width="0.20" x1="0" y1="32" x2="150" y2="32" />
            <line stroke-width="0.35" x1="0" y1="36" x2="150" y2="36" />
            <line stroke-width="0.20" x1="0" y1="44" x2="150" y2="44" />
            <line stroke-width="0.20" x1="0" y1="48" x2="150" y2="48" />
            <line stroke-width="0.20" x1="0" y1="56" x2="150" y2="56" />
            <line stroke-width="0.20" x1="0" y1="60" x2="150" y2="60" />
            <line stroke-width="0.20" x1="0" y1="64" x2="150" y2="64" />
            <line stroke-width="0.35" x1="0" y1="68" x2="150" y2="68" />
            <line stroke-width="0.20" x1="0" y1="72" x2="150" y2="72" />
            <line stroke-width="0.20" x1="0" y1="76" x2="150" y2="76" />
            <line stroke-width="0.20" x1="0" y1="80" x2="150" y2="80" />
            <line stroke-width="0.20" x1="0" y1="84" x2="150" y2="84" />
            <line stroke-width="0.20" x1="0" y1="88" x2="150" y2="88" />
            <line stroke-width="0.35" x1="0" y1="92" x2="150" y2="92" />
            <line stroke-width="0.20" x1="0" y1="96" x2="150" y2="96" />
            <line stroke-width="0.20" x1="0" y1="100" x2="150" y2="100" />
            <line stroke-width="0.20" x1="0" y1="104" x2="150" y2="104" />
            <line stroke-width="0.35" x1="0" y1="108" x2="150" y2="108" />
            <line stroke-width="0.20" x1="0" y1="116" x2="150" y2="116" />
            <line stroke-width="0.20" x1="0" y1="120" x2="150" y2="120" />
            <line stroke-width="0.20" x1="0" y1="124" x2="150" y2="124" />
            <line stroke-width="0.35" x1="0" y1="128" x2="150" y2="128" />
            <line stroke-width="0.20" x1="0" y1="132" x2="150" y2="132" />
            <line stroke-width="0.20" x1="0" y1="136" x2="150" y2="136" />
            <line stroke-width="0.20" x1="0" y1="140" x2="150" y2="140" />
            <line stroke-width="0.20" x1="0" y1="144" x2="150" y2="144" />
            <line stroke-width="0.20" x1="0" y1="148" x2="150" y2="148" />
            <line stroke-width="0.20" x1="0" y1="152" x2="150" y2="152" />
            <line stroke-width="0.20" x1="0" y1="156" x2="150" y2="156" />
            <line stroke-width="0.20" x1="0" y1="160" x2="150" y2="160" />
            <line stroke-width="0.20" x1="0" y1="164" x2="150" y2="164" />
            <line stroke-width="0.20" x1="0" y1="168" x2="150" y2="168" />
            <line stroke-width="0.20" x1="0" y1="172" x2="150" y2="172" />
            <line stroke-width="0.20" x1="0" y1="176" x2="150" y2="176" />
            <line stroke-width="0.20" x1="0" y1="180" x2="150" y2="180" />
            <line stroke-width="0.20" x1="0" y1="184" x2="150" y2="184" />
            <line stroke-width="0.20" x1="0" y1="188" x2="150" y2="188" />
            <line stroke-width="0.35" x1="0" y1="192" x2="150" y2="192" />
            <line stroke-width="0.20" x1="0" y1="196" x2="150" y2="196" />
            <line stroke-width="0.35" x1="0" y1="200" x2="150" y2="200" />
            <line stroke-width="0.20" x1="0" y1="204" x2="150" y2="204" />
            <line stroke-width="0.35" x1="0" y1="208" x2="150" y2="208" />
            <line stroke-width="0.20" x1="0" y1="212" x2="150" y2="212" />
            <line stroke-width="0.35" x1="0" y1="216" x2="150" y2="216" />
          </g>
          <!--縦線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.35" x1="30" y1="12" x2="30" y2="216" />
            <line stroke-width="0.20" x1="54" y1="12" x2="54" y2="216" />
            <line stroke-width="0.20" x1="78" y1="12" x2="78" y2="216" />
            <line stroke-width="0.20" x1="102" y1="12" x2="102" y2="216" />
            <line stroke-width="0.20" x1="126" y1="12" x2="126" y2="216" />
          </g>
          <!--Row Header-->
          <g font-size="2.2pt" text-anchor="middle">
            <text x="15" y="15">部材名称</text>
            <text x="15" y="19">位　　置</text>
            <text x="15" y="23">断面番号</text>

            <text x="8" y="27">B Bf</text><text x="20" y="27">(mm)</text>
            <text x="8" y="31">H Ht</text><text x="20" y="31">(mm)</text>
            <text x="15" y="35">tanθc+tanθt</text>

            <text x="8" y="39">Ast</text>
            <text x="20" y="39">
              (mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="43">引張鉄筋</text>
            <text x="8" y="47">dast</text><text x="20" y="47">(mm)</text>

            <text x="8" y="51">Asc</text>
            <text x="20" y="51">
              (mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="55">圧縮鉄筋</text>
            <text x="8" y="59">dasc</text><text x="20" y="59">(mm)</text>

            <text x="15" y="63">側方鉄筋　Ase</text>
            <text x="8" y="67">dase</text><text x="20" y="67">(mm)</text>

            <text x="8" y="71">f'ck</text>
            <text x="20" y="71">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="75">γc</text>
            <text x="8" y="79">f'cd</text>
            <text x="20" y="79">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>

            <text x="8" y="83">fsyk</text>
            <text x="20" y="83">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="87">γs</text>
            <text x="8" y="91">fsyd</text>
            <text x="20" y="91">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>

            <text x="8" y="95">Md</text><text x="20" y="95">(kN･m)</text>
            <text x="8" y="99">N'd</text><text x="20" y="99">(kN)</text>
            <text x="8" y="103">Vd</text><text x="20" y="103">(kN)</text>
            <text x="15" y="107">せん断スパン(mm)</text>

            <text x="8" y="111">Aw</text>
            <text x="20" y="111">
              (mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="115">スターラップ</text>
            <text x="8" y="119">fwyd</text>
            <text x="20" y="119">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="8" y="123">θs</text><text x="20" y="123">(° )</text>
            <text x="8" y="127">Ss</text><text x="20" y="127">(mm)</text>

            <text x="8" y="131">fvcd fdd</text>
            <text x="20" y="131">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="15" y="135">βd</text>
            <text x="15" y="139">βp</text>
            <text x="8" y="143">Mu</text><text x="20" y="143">(kN･m)</text>
            <text x="8" y="147">Mo</text><text x="20" y="147">(kN･m)</text>
            <text x="15" y="151">βn</text>
            <text x="16" y="155">せん断スパン比(a/d)</text>
            <text x="8" y="159">βa f</text><text x="20" y="159">(a/d)</text>
            <text x="15" y="163">pw</text>
            <text x="15" y="167">βw 　cotθ</text>
            <text x="15" y="171">γbc</text>
            <text x="8" y="175">Vcd Vc2d</text><text x="20" y="175">(kN)</text>
            <text x="15" y="179">γbs</text>
            <text x="8" y="183">Vsd Vs2d</text><text x="20" y="183">(kN)</text>
            <text x="8" y="187">Vyd Vdd Vfdd(kN)</text>
            <text x="15" y="191">γi</text>

            <text x="16" y="195">γi・Vd/Vyd Vdd Vfdd</text>
            <text x="15" y="199">照査結果</text>

            <text x="8" y=203>fwcd</text>
            <text x="20" y="203">
              (N/mm<tspan baseline-shift="20%" font-size="1.6pt">2</tspan>)
            </text>
            <text x="8" y="207">Vwcd</text><text x="20" y="207">(kN)</text>

            <text x="15" y="211">γi・Vd/Vwcd</text>
            <text x="15" y="215">照査結果</text>
          </g>
          <!--calclate-->
          <g font-size="2.2pt">
            <ng-container *ngFor="let column of pages.columns; index as c">
              <ng-container *ngFor="let item of column; index as r">
                <ng-container *ngIf="item.value != ''">
                  <text *ngIf="item.alien == 'right'" text-anchor="end" [attr.x]="48+c*24"
                    [attr.y]="15+r*4">{{item.value}}</text>
                  <text *ngIf="item.alien == 'center'" text-anchor="middle" [attr.x]="42+c*24"
                    [attr.y]="15+r*4">{{item.value}}</text>
                </ng-container>
              </ng-container>
            </ng-container>
          </g>
        </svg>
      </section>
    </ng-container>

  </ng-container>
  <section *ngIf="err.length > 0" class="sheet">
      <p >{{err}}</p>
  </section>
</ng-container>