<div *ngIf="isLoading" class="spinner-border" style="width: 1rem; height: 1rem;" role="status">
  <span class="sr-only">Loading...</span>
</div>

<ng-container *ngIf="!isLoading">
  <ng-container *ngIf="isFulfilled">

<section class="sheet" id="ap_4">
    <svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
      <!--タイトル-->
      <g font-size="10pt" text-anchor="start">
          <text x="0" y="42">(2)せん断力に対する照査</text>
          <text x="265" y="42">【ＲＣ標準 7.3.3】</text>
    
          <text x="26" y="79">➀ 部材の照査</text>
          <text x="38" y="117">せん断力を受け、せん断補強鉄筋を用いる部材の疲労に関する照査は、設計変動</text>
          <text x="38" y="136">応力度σwrdを設計応答値、設計疲労強度frdを部材係数で除した値を設計</text>
          <text x="38" y="155">限度地とし、次式により行う。</text>
          <text x="76" y="193">γ<tspan baseline-shift="0%" font-size="8pt">i</tspan>・</text>
          <text x="113" y="193">IRd / ILd  ≦　1.0</text>
    
          <text x="57" y="231">ここに、　　　γ<tspan baseline-shift="0%" font-size="8pt">i</tspan></text> 
          <text x="151" y="231">： 構造物係数</text>
          <text x="113" y="250">IRd</text> 
          <text x="151" y="250">： 設計応答値　(＝ σwrd)</text>
          <text x="113" y="268">ILd</text> 
          <text x="151" y="268">： 設計限界値　(＝ frd/γb)</text>
          <text x="113" y="287">γb</text> 
          <text x="151" y="287">： 部材係数</text>
          
          <text x="26" y="306">➁ 列車本数</text>
    　　　　　　 <text x="76" y="344">A列車荷重　：　旅客列車</text>
    　　　　　　 <text x="265" y="344">→</text>
    　　　　　　 <text x="302" y="344">{{NA}}本/日</text>　
    　　　　　　 <text x="76" y="363">B列車荷重　：　貨物列車</text>
    　　　　　　 <text x="265" y="363">→</text>
    　　　　　　 <text x="302" y="363">{{NB}本/日</text>　  
    
          <text x="26" y="401">➂ 設計変動応力度σwpdと最小応力度σminの算定</text> 
          <text x="38" y="439">標準列車荷重による鉄筋(スターラップ)の設計変動応力度σwpd及び最小</text>
          <text x="38" y="458">応力度σminを算定する。鉄筋(スターラップ)の最小応力度σminは、鉄筋</text>
          <text x="38" y="476">(スターラップ)に生じる永久作用による設計応力度σwpdである。</text>
          <text x="38" y="495">なお、σwrdおよびσwpdは、次式により算定する。</text>
    
          <text x="151" y="533">（Vpd+Vrd-Kr・Vcd)・S</text>
          <text x="371" y="533">Vrd</text>
          <text x="76" y="541">σwrd ＝</text>
          <text x="302" y="541">・</text>
          <text x="163" y="552">Aw・Z・(cosθ∔sinθ)</text>
          <text x="340" y="552">Vpd+Vrd+Vcd</text>
    
          <text x="151" y="590">（Vpd+Vrd-Kr・Vcd)・S</text>
          <text x="352" y="590">Vrd+Vcd</text>
          <text x="76" y="597">σwpd ＝</text>
          <text x="302" y="597">・</text>
          <text x="163" y="609">Aw・Z・(cosθ∔sinθ)</text>
          <text x="340" y="609">Vpd+Vrd+Vcd</text>
    
          <text x="57" y="647">ここに、　　　Vcd</text> 
          <text x="151" y="647">： 永久作用による設計せん断力(N)</text>
          <text x="113" y="665">Vrd</text> 
          <text x="151" y="665">： 変動作用による設計せん断力(N)</text>
          <text x="113" y="684">Vcd</text> 
          <text x="151" y="684">： せん断補強鉄筋鋼材を用いない棒部材の設計せん断耐力</text>
          <text x="170" y="703">(この場合の部材係数γbは1.3とする)</text> 
          <text x="121" y="722">kr</text> 
          <text x="151" y="722">： 変動作用の頻度の影響を考慮するための係数で、一般に</text>
          <text x="170" y="741">0.5とする。</text> 
          <text x="121" y="760">S</text> 
          <text x="151" y="760">： せん断補強鉄筋の配置間隔(mm)</text>
          <text x="121" y="779">Aw</text> 
          <text x="151" y="779">： 区間Sにおけるせん断補強鉄筋の総断面積</text>
          <text x="420" y="779">
              (mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
          <text x="117" y="798">θ</text> 
          <text x="151" y="798">： せん断補強鉄筋が部材軸となす角度</text>
          <text x="121" y="817">Z</text> 
          <text x="151" y="817">： 圧縮応力の合力の載荷位置から引張鋼材の図心までの距離で、</text>
          <text x="170" y="836">一般にd/1.15とする。</text> 
          <text x="121" y="855">d</text> 
          <text x="151" y="855">： 有効高さ(mm)</text> 
    
          <text x="26" y="892">➃ 200万回　引張疲労強度fsr200の算定</text> 
          <text x="38" y="930">曲げモーメントに対する照査と同様に算定する。</text>
    
          <!--横線-->
        <g fill="none" stroke="black">
            <line stroke-width="0.30" x1="136" y1="537" x2="295" y2="537" />
            <line stroke-width="0.30" x1="321" y1="537" x2="423" y2="537" />

            <line stroke-width="0.30" x1="136" y1="593" x2="295" y2="593" />
            <line stroke-width="0.30" x1="321" y1="593" x2="423" y2="593" />
           
         </g>
 
    </g>
</svg>
</section>

<section class="sheet">
  <svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
      <!--タイトル-->
      <g font-size="10pt" text-anchor="start">
          <text x="26" y="42">➄ S-N線図の係数の選択</text>
          <text x="38" y="79">曲げモーメントに対する照査と同様に算定する。</text>
    
          <text x="26" y="117">➅ 総等価繰返し回数の算定</text>
          <text x="38" y="155">曲げモーメントに対する照査と同様に算定する。</text>
  
          <text x="26" y="193">➆ 設計引張疲労強度frdの算定</text>
          <text x="38" y="231">総等価繰返し回数ΣＮを用いて、設計引張疲労強度frdを求める。</text>
          <text x="38" y="250">また、算定方法は、曲げモーメントに対する照査と同様である。</text>

        </g>
  </svg>
  </section>


    <ng-container *ngFor="let pages of safetyFatigueShearForcepages; index as i">
      <section class="sheet">
        <svg width="568" height="897" viewBox="0 0 568 897" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
          <!--タイトル-->
          <text x="0" y="42" font-size="9pt" text-anchor="start">{{pages.caption}} (その{{i+1}})</text>
          <!--横線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.50" x1="0" y1="45" x2="567" y2="45" />
            <line stroke-width="0.25" x1="0" y1="60" x2="567" y2="60" />
            <line stroke-width="0.25" x1="0" y1="76" x2="567" y2="76" />
            <line stroke-width="0.50" x1="0" y1="91" x2="567" y2="91" />
            <line stroke-width="0.25" x1="0" y1="106" x2="567" y2="106" />
            <line stroke-width="0.25" x1="0" y1="121" x2="567" y2="121" />
            <line stroke-width="0.50" x1="0" y1="136" x2="567" y2="136" />
            <line stroke-width="0.25" x1="0" y1="166" x2="567" y2="166" />
            <line stroke-width="0.50" x1="0" y1="181" x2="567" y2="181" />
            <line stroke-width="0.25" x1="0" y1="197" x2="567" y2="197" />
            <line stroke-width="0.25" x1="0" y1="212" x2="567" y2="212" />
            <line stroke-width="0.25" x1="0" y1="227" x2="567" y2="227" />
            <line stroke-width="0.25" x1="0" y1="242" x2="567" y2="242" />
            <line stroke-width="0.25" x1="0" y1="257" x2="567" y2="257" />
            <line stroke-width="0.25" x1="0" y1="272" x2="567" y2="272" />
            <line stroke-width="0.50" x1="0" y1="287" x2="567" y2="287" />
            <line stroke-width="0.25" x1="0" y1="318" x2="567" y2="318" />
            <line stroke-width="0.25" x1="0" y1="333" x2="567" y2="333" />
            <line stroke-width="0.25" x1="0" y1="348" x2="567" y2="348" />
            <line stroke-width="0.50" x1="0" y1="363" x2="567" y2="363" />
            <line stroke-width="0.25" x1="0" y1="378" x2="567" y2="378" />
            <line stroke-width="0.25" x1="0" y1="393" x2="567" y2="393" />
            <line stroke-width="0.50" x1="0" y1="408" x2="567" y2="408" />
            <line stroke-width="0.25" x1="0" y1="423" x2="567" y2="423" />
            <line stroke-width="0.25" x1="0" y1="439" x2="567" y2="439" />
            <line stroke-width="0.50" x1="0" y1="454" x2="567" y2="454" />
            <line stroke-width="0.25" x1="0" y1="469" x2="567" y2="469" />
            <line stroke-width="0.25" x1="0" y1="484" x2="567" y2="484" />
            <line stroke-width="0.50" x1="0" y1="499" x2="567" y2="499" />
            <line stroke-width="0.25" x1="0" y1="514" x2="567" y2="514" />
            <line stroke-width="0.25" x1="0" y1="529" x2="567" y2="529" />
            <line stroke-width="0.50" x1="0" y1="544" x2="567" y2="544" />
            <line stroke-width="0.25" x1="0" y1="560" x2="567" y2="560" />
            <line stroke-width="0.25" x1="0" y1="575" x2="567" y2="575" />
            <line stroke-width="0.25" x1="0" y1="590" x2="567" y2="590" />
            <line stroke-width="0.25" x1="0" y1="605" x2="567" y2="605" />
            <line stroke-width="0.25" x1="0" y1="620" x2="567" y2="620" />
            <line stroke-width="0.25" x1="0" y1="635" x2="567" y2="635" />
            <line stroke-width="0.25" x1="0" y1="650" x2="567" y2="650" />
            <line stroke-width="0.25" x1="0" y1="665" x2="567" y2="665" />
            <line stroke-width="0.25" x1="0" y1="681" x2="567" y2="681" />
            <line stroke-width="0.25" x1="0" y1="696" x2="567" y2="696" />
            <line stroke-width="0.25" x1="0" y1="711" x2="567" y2="711" />
            <line stroke-width="0.25" x1="0" y1="726" x2="567" y2="726" />
            <line stroke-width="0.25" x1="0" y1="741" x2="567" y2="741" />
            <line stroke-width="0.25" x1="0" y1="756" x2="567" y2="756" />
            <line stroke-width="0.25" x1="0" y1="771" x2="567" y2="771" />
            <line stroke-width="0.50" x1="0" y1="786" x2="567" y2="786" />
            <line stroke-width="0.25" x1="0" y1="802" x2="567" y2="802" />
          </g>
          <!--縦線-->
          <g fill="none" stroke="black">
            <line stroke-width="0.50" x1="113" y1="45" x2="113" y2="802" />
            <line stroke-width="0.25" x1="204" y1="45" x2="204" y2="802" />
            <line stroke-width="0.25" x1="295" y1="45" x2="295" y2="802" />
            <line stroke-width="0.25" x1="386" y1="45" x2="386" y2="802" />
            <line stroke-width="0.25" x1="476" y1="45" x2="476" y2="802" />
          </g>
          <!--Row Header-->
          <g font-size="9pt" text-anchor="middle">
            <text x="57" y="57">部材名称</text>
            <text x="57" y="72">位　　置</text>
            <text x="57" y="87">断面番号</text>

            <text x="30" y="102">B Bf</text><text x="70" y="102">(mm)</text>
            <text x="30" y="117">H Ht</text><text x="70" y="117">(mm)</text>
            <text x="57" y="132">tanθc+tanθt(mm)</text>

            <text x="30" y="147">Ast</text>
            <text x="76" y="147">
              (mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="57" y="163"></text>
            <text x="30" y="178">dast</text><text x="70" y="178">(mm)</text>

            <text x="30" y="193">f'ck</text>
            <text x="76" y="193">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="57" y="208">γc</text>
            <text x="30" y="223">f'cd</text>
            <text x="76" y="223">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>

            <text x="30" y="238">fsyk</text>
            <text x="76" y="238">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="57" y="253">γs</text>
            <text x="30" y="268">fsyd</text>
            <text x="76" y="268">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="284">fsuk</text>
            <text x="76" y="284">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>

            <text x="30" y="299">Aw Ab</text>
            <text x="76" y="299">
              (mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="314">fyd</text>
            <text x="76" y="314">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="329">θ</text><text x="70" y="329">(° )</text>
            <text x="30" y="344">S</text><text x="70" y="344">(mm)</text>

            <text x="30" y="359">Vpd</text><text x="70" y="359">(kN)</text>
            <text x="30" y="374">Mpd</text><text x="70" y="374">(kN)</text>
            <text x="30" y="389">N'pd</text><text x="70" y="389">(kN)</text>

            <text x="30" y="405">Vrd</text><text x="70" y="405">(kN)</text>
            <text x="30" y="420">Mrd</text><text x="70" y="420">(kN)</text>
            <text x="30" y="435">N'rd</text><text x="70" y="435">(kN)</text>

            <text x="30" y="450">fvcd</text>
            <text x="76" y="450">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="57" y="465">γbc</text>
            <text x="30" y="480">Vcd</text><text x="70" y="480">(kN)</text>

            <text x="57" y="495">Kr</text>
            <text x="30" y="510">σspd</text>
            <text x="76" y="510">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="526">σsrd</text>
            <text x="76" y="526">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>

            <text x="30" y="541">σ㏛</text>
            <text x="76" y="541">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="556">fsr200</text>
            <text x="76" y="556">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="30" y="571">γi・σsrd/(fsr200/γb)</text>
            <text x="57" y="586">Κ</text>
            <text x="57" y="601">鉄筋補正　αr</text>
            <text x="30" y="616">ΣＮ</text><text x="70" y="616">(回)</text>
            <text x="57" y="631">NA</text>
            <text x="57" y="647">NB</text>
            <text x="57" y="662">SA/SC</text>
            <text x="57" y="677">SB/SC</text>
            <text x="57" y="692">鉄筋加工補正 r1</text>
            <text x="57" y="707">鉄筋加工補正 r2</text>
            <text x="57" y="722">γs</text>
            <text x="30" y="737">fsrd</text>
            <text x="76" y="737">
              (N/mm<tspan baseline-shift="18%" font-size="8pt">2</tspan>)
            </text>
            <text x="57" y="752">γbs</text>
            <text x="57" y="768">γi</text>

            <text x="57" y="783">γi・σsrd/(fsrd/γb)</text>
            <text x="57" y="798">照査結果</text>
          </g>
          <!--calclate-->
          <g font-size="9pt">
            <ng-container *ngFor="let column of pages.columns; index as c">
              <ng-container *ngFor="let item of column; index as r">
                <ng-container *ngIf="item.value != ''">
                    <text *ngIf="item.alien == 'right'" text-anchor="end" [attr.x]="199+c*91"
                    [attr.y]="57+r*15.1">{{item.value}}</text>
                  <text *ngIf="item.alien == 'center'" text-anchor="middle" [attr.x]="159+c*91"
                    [attr.y]="57+r*15.1">{{item.value}}</text>
                </ng-container>
              </ng-container>
            </ng-container>
          </g>
        </svg>
      </section>
    </ng-container>

  </ng-container>
  <section *ngIf="err.length > 0" class="sheet">
      <p >{{err}}</p>
  </section>
</ng-container>