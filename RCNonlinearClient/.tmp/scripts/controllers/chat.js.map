{"version":3,"sources":["controllers/chat.js"],"names":["angular","module","controller","$scope","Ref","$firebaseArray","$timeout","messages","child","limitToLast","$loaded","catch","alert","addMessage","newMessage","$add","text","msg","err"],"mappings":"AAAA;AACA;;;;;;;;AAOAA,QAAQC,MAAR,CAAe,QAAf,EACGC,UADH,CACc,UADd,EAC0B,CAAC,QAAD,EAAW,KAAX,EAAkB,gBAAlB,EAAoC,UAApC,EACtB,UAAUC,MAAV,EAAkBC,GAAlB,EAAuBC,cAAvB,EAAuCC,QAAvC,EAAiD;AAC/C;AACAH,SAAOI,QAAP,GAAkBF,eAAeD,IAAII,KAAJ,CAAU,UAAV,EAAsBC,WAAtB,CAAkC,EAAlC,CAAf,CAAlB;;AAEA;AACAN,SAAOI,QAAP,CAAgBG,OAAhB,GAA0BC,KAA1B,CAAgCC,KAAhC;;AAEA;AACAT,SAAOU,UAAP,GAAoB,UAASC,UAAT,EAAqB;AACvC,QAAIA,UAAJ,EAAiB;AACf;AACAX,aAAOI,QAAP,CAAgBQ,IAAhB,CAAqB,EAACC,MAAMF,UAAP,EAArB;AACE;AADF,OAEGH,KAFH,CAESC,KAFT;AAGD;AACF,GAPD;;AASA,WAASA,KAAT,CAAeK,GAAf,EAAoB;AAClBd,WAAOe,GAAP,GAAaD,GAAb;AACAX,aAAS,YAAW;AAClBH,aAAOe,GAAP,GAAa,IAAb;AACD,KAFD,EAEG,IAFH;AAGD;AACF,CAxBqB,CAD1B","file":"chat.js","sourcesContent":["'use strict';\r\n/**\r\n * @ngdoc function\r\n * @name webdan.controller:ChatCtrl\r\n * @description\r\n * # ChatCtrl\r\n * A demo of using AngularFire to manage a synchronized list.\r\n */\r\nangular.module('webdan')\r\n  .controller('ChatCtrl', ['$scope', 'Ref', '$firebaseArray', '$timeout',\r\n    function ($scope, Ref, $firebaseArray, $timeout) {\r\n      // synchronize a read-only, synchronized array of messages, limit to most recent 10\r\n      $scope.messages = $firebaseArray(Ref.child('messages').limitToLast(10));\r\n\r\n      // display any errors\r\n      $scope.messages.$loaded().catch(alert);\r\n\r\n      // provide a method for adding a message\r\n      $scope.addMessage = function(newMessage) {\r\n        if( newMessage ) {\r\n          // push a message to the end of the array\r\n          $scope.messages.$add({text: newMessage})\r\n            // display any errors\r\n            .catch(alert);\r\n        }\r\n      };\r\n\r\n      function alert(msg) {\r\n        $scope.err = msg;\r\n        $timeout(function() {\r\n          $scope.err = null;\r\n        }, 5000);\r\n      }\r\n    }\r\n  ]);\r\n"]}