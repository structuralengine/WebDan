{"version":3,"sources":["services/bar.js"],"names":["angular","module","factory","webdanRef","$firebaseArray","$firebaseObject","$firebaseUtils","ref","child","bars","Bar","query","copy","remove","bar","origBar","$getRecord","$id","$remove","catch","err","save","plainBar","toJSON","extend","$save","add","$add","isEmpty"],"mappings":"AAAA;;AAEA;;;;;;;;AAOAA,QAAQC,MAAR,CAAe,QAAf,EACGC,OADH,CACW,KADX,EACkB,CAAC,WAAD,EAAc,gBAAd,EAAgC,iBAAhC,EAAmD,gBAAnD,EACd,UAASC,SAAT,EAAoBC,cAApB,EAAoCC,eAApC,EAAqDC,cAArD,EAAqE;;AAEnE,MAAIC,MAAMJ,UAAUK,KAAV,CAAgB,MAAhB,CAAV;AACA,MAAIC,OAAOL,eAAeG,GAAf,CAAX;AACA,MAAIG,MAAM,EAAV;;AAEAA,MAAIC,KAAJ,GAAY,UAASC,IAAT,EAAe;AACzB,WAAOH,IAAP;AACD,GAFD;;AAIAC,MAAIG,MAAJ,GAAa,UAASC,GAAT,EAAc;AACzB,QAAIC,UAAUN,KAAKO,UAAL,CAAgBF,IAAIG,GAApB,CAAd;AACA,WAAOR,KAAKS,OAAL,CAAaH,OAAb,EAAsBI,KAAtB,CAA4B,UAASC,GAAT,EAAc;AAC/C,YAAMA,GAAN;AACD,KAFM,CAAP;AAGD,GALD;;AAOAV,MAAIW,IAAJ,GAAW,UAASP,GAAT,EAAc;AACvB,QAAIC,UAAUN,KAAKO,UAAL,CAAgBF,IAAIG,GAApB,CAAd;AACA,QAAIK,WAAWhB,eAAeiB,MAAf,CAAsBT,GAAtB,CAAf;AACAd,YAAQwB,MAAR,CAAeT,OAAf,EAAwBO,QAAxB;AACA,WAAOb,KAAKgB,KAAL,CAAWV,OAAX,EAAoBI,KAApB,CAA0B,UAASC,GAAT,EAAc;AAC7C,YAAMA,GAAN;AACD,KAFM,CAAP;AAGD,GAPD;;AASAV,MAAIgB,GAAJ,GAAU,UAASZ,GAAT,EAAc;AACtB,WAAOL,KAAKkB,IAAL,CAAUb,GAAV,EAAeK,KAAf,CAAqB,UAASC,GAAT,EAAc;AACxC,YAAMA,GAAN;AACD,KAFM,CAAP;AAGD,GAJD;;AAMAV,MAAIkB,OAAJ,GAAc,UAASd,GAAT,EAAc;AAC1B,WAAO,KAAP;AACD,GAFD;;AAIA,SAAOJ,GAAP;AACD,CAtCa,CADlB","file":"bar.js","sourcesContent":["'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name webdan.Bar\r\n * @description\r\n * # Bar\r\n * Factory in the webdan.\r\n */\r\nangular.module('webdan')\r\n  .factory('Bar', ['webdanRef', '$firebaseArray', '$firebaseObject', '$firebaseUtils',\r\n    function(webdanRef, $firebaseArray, $firebaseObject, $firebaseUtils) {\r\n\r\n      let ref = webdanRef.child('bars');\r\n      let bars = $firebaseArray(ref);\r\n      let Bar = {};\r\n\r\n      Bar.query = function(copy) {\r\n        return bars;\r\n      }\r\n\r\n      Bar.remove = function(bar) {\r\n        let origBar = bars.$getRecord(bar.$id);\r\n        return bars.$remove(origBar).catch(function(err) {\r\n          throw err;\r\n        });\r\n      }\r\n\r\n      Bar.save = function(bar) {\r\n        let origBar = bars.$getRecord(bar.$id);\r\n        let plainBar = $firebaseUtils.toJSON(bar);\r\n        angular.extend(origBar, plainBar);\r\n        return bars.$save(origBar).catch(function(err) {\r\n          throw err;\r\n        });\r\n      }\r\n\r\n      Bar.add = function(bar) {\r\n        return bars.$add(bar).catch(function(err) {\r\n          throw err;\r\n        });\r\n      }\r\n\r\n      Bar.isEmpty = function(bar) {\r\n        return false;\r\n      }\r\n\r\n      return Bar;\r\n    }\r\n  ]);\r\n"]}